<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.collabia.bookrec.controller.SettingsController"
      spacing="20" style="-fx-padding: 30;">
    
    <Label text="Settings" styleClass="title">
        <font>
            <Font name="System Bold" size="24"/>
        </font>
    </Label>
    
    <Separator/>
    
    <!-- Theme Settings -->
    <VBox spacing="10">
        <Label text="Appearance" styleClass="section-title">
            <font>
                <Font name="System Bold" size="16"/>
            </font>
        </Label>
        
        <HBox spacing="10" alignment="CENTER_LEFT">
            <Label text="Theme:"/>
            <ToggleButton fx:id="themeToggle" text="Light Mode" onAction="#handleThemeToggle"
                         prefWidth="120"/>
        </HBox>
    </VBox>
    
    <Separator/>
    
    <!-- Change Password Section -->
    <VBox spacing="10">
        <Label text="Change Password" styleClass="section-title">
            <font>
                <Font name="System Bold" size="16"/>
            </font>
        </Label>
        
        <GridPane hgap="10" vgap="10" maxWidth="400">
            <columnConstraints>
                <ColumnConstraints minWidth="120" prefWidth="120"/>
                <ColumnConstraints hgrow="ALWAYS"/>
            </columnConstraints>
            
            <Label text="Old Password:" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
            <PasswordField fx:id="oldPasswordField" GridPane.columnIndex="1" GridPane.rowIndex="0"
                          promptText="Enter old password"/>
            
            <Label text="New Password:" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
            <PasswordField fx:id="newPasswordField" GridPane.columnIndex="1" GridPane.rowIndex="1"
                          promptText="Enter new password"/>
            
            <Label text="Confirm Password:" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
            <PasswordField fx:id="confirmPasswordField" GridPane.columnIndex="1" GridPane.rowIndex="2"
                          promptText="Confirm new password"/>
        </GridPane>
        
        <HBox>
            <Button fx:id="changePasswordButton" text="Change Password" onAction="#handleChangePassword"
                   styleClass="primary-button" prefWidth="150"/>
        </HBox>
    </VBox>
    
    <Separator/>
    
    <!-- Logout Section -->
    <VBox spacing="10">
        <Label text="Session" styleClass="section-title">
            <font>
                <Font name="System Bold" size="16"/>
            </font>
        </Label>
        
        <HBox>
            <Button fx:id="logoutButton" text="Logout" onAction="#handleLogout"
                   styleClass="danger-button" prefWidth="100"/>
        </HBox>
    </VBox>
    
</VBox>
